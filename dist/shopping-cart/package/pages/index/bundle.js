!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=Vuex,o=r.mapState,i=r.mapActions,u={computed:o({products:function(t){return t.products.all}}),methods:i("cart",["addProductToCart"]),created:function(){this.$store.dispatch("products/getAllProducts")}},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.products,function(e){return n("li",{key:e.id},[t._v("\n  "+t._s(e.title)+" - "+t._s(e.price)+"\n  "),n("br"),t._v(" "),n("button",{class:{"weui-btn":!0,"weui-btn_mini":!0,"weui-btn_primary":!0},attrs:{disabled:!e.inventory},on:{click:function(n){t.addProductToCart(e)}}},[t._v("\n    "+t._s(e.inventory?"Add to cart":"No inventory")+"\n  ")])])}),0)};function s(t,e,n,r,o,i,u,c){var s=typeof(t=t||{}).default;"object"!==s&&"function"!==s||(t=t.default);var a,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),r&&(d.functional=!0),i&&(d._scopeId=i),u?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(u)},d._ssrRegister=a):o&&(a=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(d.functional){d._injectStyles=a;var l=d.render;d.render=function(t,e){return a.call(e),l(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:d}}c._withStripped=!0;var a=s(u,c,[],!1,null,null,null);a.options.__file="src/components/ProductList.vue";var d=a.exports,l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=Vuex,p=f.mapGetters,v={computed:l({},(0,f.mapState)({checkoutStatus:function(t){return t.cart.checkoutStatus}}),p("cart",{products:"cartProducts",total:"cartTotalPrice"})),methods:{checkout:function(t){this.$store.dispatch("cart/checkout",t)}}},_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("h2",[t._v("Your Cart")]),t._v(" "),n("p",{class:{hide:!!t.products.length}},[n("i",[t._v("Please add some products to cart.")])]),t._v(" "),n("ul",t._l(t.products,function(e){return n("li",{key:e.id},[t._v("\n      "+t._s(e.title)+" - "+t._s(e.price)+" x "+t._s(e.quantity)+"\n    ")])}),0),t._v(" "),n("p",[t._v("Total: "+t._s(t.total))]),t._v(" "),n("p",[n("button",{staticClass:"weui-btn weui-btn_mini weui-btn_primary",attrs:{disabled:!t.products.length},on:{click:function(e){t.checkout(t.products)}}},[t._v("Checkout")])]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.checkoutStatus,expression:"checkoutStatus"}]},[t._v("Checkout: "+t._s(t.checkoutStatus)+".")])])};_._withStripped=!0;var m=s(v,_,[],!1,function(t){n(6)},"data-v-ee9c2650",null);m.options.__file="src/components/ShoppingCart.vue";var h={components:{ProductList:d,ShoppingCart:m.exports}},y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Shopping Cart FP Example")]),t._v(" "),n("hr"),t._v(" "),n("h2",[t._v("Products")]),t._v(" "),n("ProductList"),t._v(" "),n("br"),t._v(" "),n("hr"),t._v(" "),n("ShoppingCart")],1)};y._withStripped=!0;var C=s(h,y,[],!1,function(t){n(1)},null,null);C.options.__file="src/pages/index/index.vue";var S=C.exports,b=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5}],P={namespaced:!0,state:{items:[],checkoutStatus:"-"},getters:{cartProducts:function(t,e,n){return t.items.map(function(t){var e=t.id,r=t.quantity,o=n.products.all.find(function(t){return t.id===e});return{title:o.title,price:o.price,quantity:r}})},cartTotalPrice:function(t,e){return e.cartProducts.reduce(function(t,e){return t+e.price*e.quantity},0)}},actions:{checkout:function(t,e){var n=t.commit,r=t.state,o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r.items));n("setCheckoutStatus",null),n("setCartItems",{items:[]}),function(t,e,n){setTimeout(function(){Math.random()>.5?e():n()},100)}(0,function(){return n("setCheckoutStatus","successful")},function(){n("setCheckoutStatus","failed"),n("setCartItems",{items:o})})},addProductToCart:function(t,e){var n=t.state,r=t.commit;if(r("setCheckoutStatus",null),e.inventory>0){var o=n.items.find(function(t){return t.id===e.id});o?r("incrementItemQuantity",o):r("pushProductToCart",{id:e.id}),r("products/decrementProductInventory",{id:e.id},{root:!0})}}},mutations:{pushProductToCart:function(t,e){var n=e.id;t.items.push({id:n,quantity:1})},incrementItemQuantity:function(t,e){var n=e.id;t.items.find(function(t){return t.id===n}).quantity++},setCartItems:function(t,e){var n=e.items;t.items=n},setCheckoutStatus:function(t,e){t.checkoutStatus=e}}},g={namespaced:!0,state:{all:[]},getters:{},actions:{getAllProducts:function(t){var e=t.commit;!function(t){setTimeout(function(){return t(b)},100)}(function(t){e("setProducts",t)})}},mutations:{setProducts:function(t,e){t.all=e},decrementProductInventory:function(t,e){var n=e.id;t.all.find(function(t){return t.id===n}).inventory--}}};Vue.use(Vuex);var k=new Vuex.Store({modules:{cart:P,products:g}});new Vue({template:"<index/>",components:{index:S},mounted:function(){},store:k}).$mount()},function(t,e){},,,,,function(t,e){}]);